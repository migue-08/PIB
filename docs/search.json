[
  {
    "objectID": "PIB.html",
    "href": "PIB.html",
    "title": "GDP Colombia",
    "section": "",
    "text": "This document presents the process of visualizing the evolution of the annual and quarterly Colombian GDP. The data is made public by the Departamento Administrativo Nacional de Estadística (DANE), and you can reproduce this exercise downloading the in the following links:\nThe first step is loading the required packages:\nlibrary(readxl)\nlibrary(tidyverse)\nlibrary(janitor)"
  },
  {
    "objectID": "PIB.html#load-data",
    "href": "PIB.html#load-data",
    "title": "GDP Colombia",
    "section": "Load data",
    "text": "Load data\n\n# Original quarterly data\n\ndf1 = readxl::read_excel(\"anex-ProduccionConstantes-IItrim2025.xlsx\",\n                         sheet = \"Cuadro 1\",\n                         range = \"C45:CG62\",\n                         col_names = FALSE)\n\n# Annual data\n\ndf2 = readxl::read_excel(\"anex-CuentasNalANuales-AgreMacroeconomicos-2023p.xlsx\",\n                         sheet = \"Cuadro 2\",\n                         range = \"E165:X269\",\n                         col_names = FALSE)"
  },
  {
    "objectID": "PIB.html#indexing",
    "href": "PIB.html#indexing",
    "title": "GDP Colombia",
    "section": "Indexing",
    "text": "Indexing\n\n# Quarterly\n\ndf1[1, 1] = \"ano\"\ndf1[2, 1] = \"trimestre\"\n\n# Annual\n\ndf2[1, 1] = \"ano\"\ndf2[1, 20] = \"2023\""
  },
  {
    "objectID": "PIB.html#dtype-transformation",
    "href": "PIB.html#dtype-transformation",
    "title": "GDP Colombia",
    "section": "Dtype transformation",
    "text": "Dtype transformation\n\n# We transform all columns to character in df2\n\ndf2 = df2 |&gt; \n  dplyr::mutate_if(is.numeric, as.character)"
  },
  {
    "objectID": "PIB.html#lengthening-data",
    "href": "PIB.html#lengthening-data",
    "title": "GDP Colombia",
    "section": "Lengthening Data",
    "text": "Lengthening Data\n\n# Quarterly\n\ndf1 = df1 |&gt;\n  tidyr::pivot_longer(cols = 6:83,\n                      values_to = \"value\") |&gt;\n  tidyr::fill(value) |&gt;\n  tidyr::pivot_wider(names_from = 1,\n                     values_from = value) |&gt;\n  janitor::clean_names() |&gt;\n  dplyr::select(ano:producto_interno_bruto)\n\n\n# Annual\n\ndf2 = df2 |&gt;\n  tidyr::pivot_longer(cols = 3:20,\n                      values_to = \"value\") |&gt;\n  tidyr::pivot_wider(names_from = 1,\n                     values_from = value,\n                     values_fn = list) |&gt;\n  janitor::clean_names() |&gt;\n  dplyr::select(ano, producto_interno_bruto)"
  },
  {
    "objectID": "PIB.html#d-type-transformation",
    "href": "PIB.html#d-type-transformation",
    "title": "GDP Colombia",
    "section": "D type transformation",
    "text": "D type transformation\n\n# We transform the variables to numeric in the quarterly data\n\ndf1 = df1 |&gt;\n  dplyr::mutate_at(vars(4:18), as.numeric)\n\n\n# Please notice that some years have strings, so we need to replace them first\n\naños = df1 |&gt;\n  dplyr::distinct(ano)\n\naños$Año\n\nNULL\n\n\n\n# Now we transform the \"string\" format of years to \"numeric\"\n\ndf1 = df1 |&gt;\n  dplyr::mutate(\n    ano =  stringr::str_remove_all(ano, \"[pr]\"),\n    ano = as.numeric(ano))\n\nglimpse(df1)\n\nRows: 78\nColumns: 18\n$ ano                                                                                                                                                                                                                                                                       &lt;dbl&gt; …\n$ trimestre                                                                                                                                                                                                                                                                 &lt;chr&gt; …\n$ na                                                                                                                                                                                                                                                                        &lt;chr&gt; …\n$ agricultura_ganaderia_caza_silvicultura_y_pesca                                                                                                                                                                                                                           &lt;dbl&gt; …\n$ explotacion_de_minas_y_canteras                                                                                                                                                                                                                                           &lt;dbl&gt; …\n$ industrias_manufactureras                                                                                                                                                                                                                                                 &lt;dbl&gt; …\n$ suministro_de_electricidad_gas_vapor_y_aire_acondicionado_distribucion_de_agua_evacuacion_y_tratamiento_de_aguas_residuales_gestion_de_desechos_y_actividades_de_saneamiento_ambiental                                                                                    &lt;dbl&gt; …\n$ construccion                                                                                                                                                                                                                                                              &lt;dbl&gt; …\n$ comercio_al_por_mayor_y_al_por_menor_reparacion_de_vehiculos_automotores_y_motocicletas_transporte_y_almacenamiento_alojamiento_y_servicios_de_comida                                                                                                                     &lt;dbl&gt; …\n$ informacion_y_comunicaciones                                                                                                                                                                                                                                              &lt;dbl&gt; …\n$ actividades_financieras_y_de_seguros                                                                                                                                                                                                                                      &lt;dbl&gt; …\n$ actividades_inmobiliarias                                                                                                                                                                                                                                                 &lt;dbl&gt; …\n$ actividades_profesionales_cientificas_y_tecnicas_actividades_de_servicios_administrativos_y_de_apoyo                                                                                                                                                                      &lt;dbl&gt; …\n$ administracion_publica_y_defensa_planes_de_seguridad_social_de_afiliacion_obligatoria_educacion_actividades_de_atencion_de_la_salud_humana_y_de_servicios_sociales                                                                                                        &lt;dbl&gt; …\n$ actividades_artisticas_de_entretenimiento_y_recreacion_y_otras_actividades_de_servicios_actividades_de_los_hogares_individuales_en_calidad_de_empleadores_actividades_no_diferenciadas_de_los_hogares_individuales_como_productores_de_bienes_y_servicios_para_uso_propio &lt;dbl&gt; …\n$ valor_agregado_bruto                                                                                                                                                                                                                                                      &lt;dbl&gt; …\n$ impuestos_menos_subvenciones_sobre_los_productos                                                                                                                                                                                                                          &lt;dbl&gt; …\n$ producto_interno_bruto                                                                                                                                                                                                                                                    &lt;dbl&gt; …\n\n\n\n# We transform all columns to numeric in df2\n\ndf2 = df2 |&gt;\n  dplyr::mutate_at(vars(1:2), as.numeric)\n\ndf2\n\n# A tibble: 18 × 2\n     ano producto_interno_bruto\n   &lt;dbl&gt;                  &lt;dbl&gt;\n 1  2006                  6.72 \n 2  2007                  6.74 \n 3  2008                  3.28 \n 4  2009                  1.14 \n 5  2010                  4.49 \n 6  2011                  6.95 \n 7  2012                  3.91 \n 8  2013                  5.13 \n 9  2014                  4.50 \n10  2015                  2.96 \n11  2016                  2.09 \n12  2017                  1.36 \n13  2018                  2.56 \n14  2019                  3.19 \n15  2020                 -7.19 \n16  2021                 10.8  \n17  2022                  7.33 \n18  2023                  0.712"
  },
  {
    "objectID": "PIB.html#filtering",
    "href": "PIB.html#filtering",
    "title": "GDP Colombia",
    "section": "Filtering",
    "text": "Filtering\n\n# We filter quarterly data from 2020\n\ndf1 = df1 |&gt;\n  dplyr::filter(ano &gt;= 2020)"
  },
  {
    "objectID": "PIB.html#quarterly",
    "href": "PIB.html#quarterly",
    "title": "GDP Colombia",
    "section": "Quarterly",
    "text": "Quarterly\n\ndashline = 0   # Baseline\n\ndf1 |&gt; \n  ggplot(aes(x = trimestre, y = producto_interno_bruto, group = 1)) +\n  geom_point() +\n  geom_line() +\n  geom_hline(yintercept = dashline, color = \"black\", linewidth = 0.5, linetype = 2) +\n  facet_grid( . ~ ano) +\n  theme_classic() +\n  labs(title = \"Producto Interno Bruto (PIB)\",\n       subtitle = \"Tasas de crecimiento anual en volumen\",\n       x = \"Trimestres\",\n       y = \"Variación (%)\",\n       caption = \"Fuente: Elaboración propia con datos del DANE, PIB trimestral (coyuntural). A precios constantes\") +\n  theme(plot.caption.position = \"panel\",\n        plot.caption = element_text(hjust = 0))"
  },
  {
    "objectID": "PIB.html#annually",
    "href": "PIB.html#annually",
    "title": "GDP Colombia",
    "section": "Annually",
    "text": "Annually\n\ndashline = 0       # Baseline\nshadedarea = 2020  # Year of interest\n\ndf2 |&gt; \n  ggplot(aes(x = ano, y = producto_interno_bruto)) +\n  geom_point() +\n  geom_line() +\n  geom_hline(yintercept = dashline, color = \"black\", linewidth = 0.5, linetype = 2) +\n  geom_vline(xintercept = shadedarea, col = \"grey\", linewidth = 22, alpha = 0.4) +\n  scale_x_continuous(breaks = seq(2006, 2024, by = 2)) +\n  theme_bw() +\n  labs(title = \"Producto Interno Bruto (PIB)\",\n       subtitle = \"(variación anual)\",\n       x = \"Año\",\n       y = \"Variación (%)\",\n       caption = \"Fuente: Elaboración propia con datos del DANE, tasa de crecimiento en volumen\") +\n  theme(plot.caption.position = \"panel\",\n        plot.caption = element_text(hjust = 0))"
  },
  {
    "objectID": "PIB.html#conclusion",
    "href": "PIB.html#conclusion",
    "title": "GDP Colombia",
    "section": "Conclusion",
    "text": "Conclusion\nWe can see that the Colombian GDP is exposing signals of recovering from the pandemic shock. In the last quarters the growth is significant and positive but for now not enough for the expectation of 3% or higher displayed a decade before."
  }
]